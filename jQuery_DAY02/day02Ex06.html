<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #top_menu {
            padding: 0;
            overflow: hidden;
            width: 900px;
        }
        #top_menu ul {
            display: none;
        }
        #top_menu > li {
            list-style: none;
            float: left;
            box-sizing: border-box;
            width: 100px;
        }
        #top_menu > li > p {
            padding: 5px;
            margin: 0;
            width: 100px;
            text-align: center;
            box-sizing: border-box;
            border: 1px solid gray;
        }
        #top_menu > li > ul {
            margin: 0;
            padding: 5px;
            border: 0px solid red;
            width: 300px;
            overflow: hidden;
        }
        #top_menu > li > ul > li {
            float: left;
            list-style: none;
            padding: 0 5px;            

        }
    </style>
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="../js/underscore.js"></script>

    <script id="topMenuTemp" type="text/template">
        <ul id="top_menu">
            <%
            for(var i=0; i<menuList.length; i++) { 
                var menu = menuList[i];
            %>
            <li><p><%=menu.title%></p>
                <ul>
                    <%
                    for(var j=0; j<menu.submenu.length; j++) { 
                        var sub = menu.submenu[j];
                    %>
                        <li><%=sub.subName%></li>
                    <% } %>
                </ul>
            </li>
            <% } %>
        </ul>
    </script>

    <script>
        var menuList = [
            {title:'HOME', submenu:[{subName:'submenu1', url:''},{subName:'submenu2', url:''},{subName:'submenu3', url:''}]},
            {title:'PROFILE', submenu:[{subName:'submenu1', url:''},{subName:'submenu2', url:''},{subName:'submenu3', url:''}]},
            {title:'GALLERY', submenu:[{subName:'submenu1', url:''},{subName:'submenu2', url:''},{subName:'submenu3', url:''}]},
            {title:'BOARD', submenu:[{subName:'submenu1', url:''},{subName:'submenu2', url:''},{subName:'submenu3', url:''}]},
            {title:'GUEST', submenu:[{subName:'submenu1', url:''},{subName:'submenu2', url:''},{subName:'submenu3', url:''}]}
        ];
        $(document).ready(function () {
            var compiled = _.template($('#topMenuTemp').html());
            $('nav').html(compiled({menuList: menuList}) );

            $('#top_menu > li').click(function() {
                //$('ul', this).css({display:'block'});
                //$('ul', this).toggle('fast');
                $('#top_menu ul').hide();
                $('ul', this).show('fast');
            });
         });
    </script>
</head>
<body>
    <h1>길동이의 홈페이지</h1>
    <hr>
    <nav></nav>
</body>
</html>